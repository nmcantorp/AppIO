$(document).on("ready",document,function(){var c=document.getElementsByName("antec");var f=$("[id^='tiempo']");var b=false;var g=[];var d=[];var e=0;var a="";
$("#dialog-message").dialog({modal:true,buttons:{Aceptar:function(){$(this).dialog("close");}}});$("#dialog-message").dialog("close");$("#dialog_message_concept").dialog({modal:true,buttons:{Aceptar:function(){$(this).dialog("close");
}}});$("#dialog_message_concept").dialog("close");});function organizar(){cantidad_temp=document.getElementsByName("antec").length;cantidad_actividad=cantidad_temp;
}function tiempo_esperado(b,c,a){x=((parseInt(b)+(4*parseInt(a))+parseInt(c))/6);return x;}function varianza(a,b){console.log((Math.exp(parseInt(b)-parseInt(a)))/36);
return(((parseInt(b)-parseInt(a))*(parseInt(b)-parseInt(a))))/36;}function Solo_Numerico(a,c){numero_antec=document.getElementsByName("antec").length;letra="";
text_final="";for(var b=0;b<a.length&&a.length<(c+1);b++){letra=a[b];valida=letra.search(/(,|[1-9])+/g);if(valida){Numer=parseInt(letra);if(!isNaN(Numer)){text_final=text_final+Numer;
}}else{text_final=text_final+letra;}}if(a.length>(c)){letra="";text_final="";for(var b=0;b<(c);b++){letra=a[b];valida=letra.search(/(,|[1-9])+/g);if(valida){Numer=parseInt(letra);
if(!isNaN(Numer)){text_final=text_final+Numer;}}else{text_final=text_final+letra;}}}return text_final;}function ValNumero(b,a){b.value=Solo_Numerico(b.value,a);
}function cargar_actividades(b,c){if(localStorage.id_proyecto!="null"){cargar_detalle_actividades(1,localStorage.id_proyecto);act_proy_sesion=JSON.parse(localStorage.abrir);
act_proy=act_proy_sesion;actividad_cargar=act_proy.data;console.log(actividad_cargar);b=act_proy.data.total;ronda=0;}for(var a=0;a<b;a++){nom_act=null;
pred=null;t_esp=null;if(localStorage.id_proyecto!="null"){if(actividad_cargar[a]["Nombre_Actividad"]!=null){nom_act=" value='"+actividad_cargar[a]["Nombre_Actividad"]+"' readonly='readonly'";
}if(actividad_cargar[a]["Tesperado_Actividad"]!=null){t_esp=" value='"+actividad_cargar[a]["Tesperado_Actividad"]+"' readonly='readonly'";}if(actividad_cargar[a]["Numero_Actividad"]!=null){pred=" value='"+actividad_cargar[a]["Numero_Actividad"]+"' readonly='readonly'";
}}$("#content_activities").append('<div class="act_detail"><table><tr><td><label>Nombre Actividad '+(a+1)+': </td><td>&nbsp <input type="text" id="actividad_'+a+'" '+nom_act+" /></td></tr><tr><td><label>Tiempo actividad "+(a+1)+': </td><td>&nbsp; <input type="number" id="tiempo_'+a+'" min="0" max="999" onkeyUp="return ValNumero(this, 3);" required="required" '+t_esp+"/>&nbsp;"+c+"</label></td></tr><tr><td><label>Precede "+(a+1)+': </td><td>&nbsp; <input type="text" placeholder="Ejemplo 1,2,..,n" name="antec" id="antec_'+a+'" onkeyUp="return ValNumero(this, 100);" '+pred+"/></label></td></tr></table></div>");
if((a+1)!=b){$("#content_activities").append('<div id="separador"></div>');}}cantidad_actividad=a;$("#content_activities").append('<input type="button" class="boton_agrega" id="act_detail'+(a+1)+'" value="+" onClick="agregar_actividades(this,\''+c+"');\">");
$("#content_activities").append('<div class="contact-but"><input type="button" id="cargart" value="Cargar Tiempo" onClick="javascript:carga_info();" /></div> <div class="contact-but"><input type="button" id="volvert" onClick="javascript:$(\'#info_proyecto\').show(); $(\'#content_activities\').hide();$(\'#actividades\').hide()" value="Regresar" /></div>');
}function cargar_actividades_avanzado(b,c){if(localStorage.id_proyecto!="null"){cargar_detalle_actividades(2,localStorage.id_proyecto);act_proy_sesion=JSON.parse(localStorage.abrir);
act_proy=act_proy_sesion;actividad_cargar=act_proy.data;console.log(actividad_cargar);b=act_proy.data.total;ronda=0;}nom_act=null;pred=null;t_opt=null;
t_pes=null;t_pro=null;cos_act=null;for(var a=0;a<b;a++){if(localStorage.id_proyecto!="null"){if(actividad_cargar[a]["Nombre_Actividad"]!=null){nom_act=" value='"+actividad_cargar[a]["Nombre_Actividad"]+"' readonly='readonly'";
}if(actividad_cargar[a]["Toptimista_Actividad"]!=null){t_opt=" value='"+actividad_cargar[a]["Toptimista_Actividad"]+"' readonly='readonly'";}if(actividad_cargar[a]["Tpesimista_Actividad"]!=null){t_pes=" value='"+actividad_cargar[a]["Tpesimista_Actividad"]+"' readonly='readonly'";
}if(actividad_cargar[a]["Tprobable_Actividad"]!=null){t_pro=" value='"+actividad_cargar[a]["Tprobable_Actividad"]+"' readonly='readonly'";}if(actividad_cargar[a]["Costo_Actividad"]!=null){cos_act=" value='"+actividad_cargar[a]["Costo_Actividad"]+"' readonly='readonly'";
}if(actividad_cargar[a]["Numero_Actividad"]!=null){pred=" value='"+actividad_cargar[a]["Numero_Actividad"]+"' readonly='readonly'";}}$("#content_activities").append('<div class="act_detail"><span>Actividad '+(a+1)+"</span><table><tr><td><label>Nombre Actividad "+(a+1)+': </td><td>&nbsp;<input type="text" id="actividad_'+a+'" '+nom_act+"/></td></tr><tr><td><label>T. Optimista "+(a+1)+': </td><td>&nbsp;<input type="number" id="tiempo_o_'+a+'" min="0" max="1000" onkeyUp="return ValNumero(this, 3);" '+t_opt+"/>&nbsp;"+c+"</td></tr><tr><td></label><label>T. Pesimista "+(a+1)+': </td><td>&nbsp;<input type="number" id="tiempo_e_'+a+'" min="0" max="1000" onkeyUp="return ValNumero(this, 3);" '+t_pes+"/>&nbsp;"+c+"</td></tr><tr><td></label><label>T. Probable "+(a+1)+': </td><td>&nbsp;<input type="number" id="tiempo_pr_'+a+'" min="0" max="1000" onkeyUp="return ValNumero(this, 3);" '+t_pro+"/>&nbsp;"+c+"</label></td></tr><tr><td><label>Costo Act. "+(a+1)+': </td><td>&nbsp;<input type="number" id="costo_'+a+'" min="0" max="1000" '+cos_act+"/></label></td></tr><tr><td><label>Precede "+(a+1)+': </td><td>&nbsp<input type="text" placeholder="Ejemplo 1,2,..,n" name="antec" id="antec_'+a+'" onkeyUp="return ValNumero(this, 100);" '+pred+"/></label></td></tr></table></div>");
if((a+1)!=b){$("#content_activities").append('<div id="separador"></div>');}}cantidad_actividad=a;$("#content_activities").append('<input type="button" class="boton_agrega" id="act_detail'+(a+1)+'" value="+" onClick="agregar_actividades_avanzado(this,\''+c+"');\">");
$("#content_activities").append('<div class="contact-but"><input type="button" id="cargart" value="Cargar Tiempo" onClick="javascript:carga_info_avanzado();" /></div> <div class="contact-but"><input type="button" id="volvert" onClick="javascript:$(\'#info_proyecto\').show(); $(\'#content_activities\').hide();$(\'#actividades\').hide()" value="Regresar" /></div>');
}function agregar_actividades(a,b){$("#content_activities .contact-but > input").remove();$("#content_activities").append('<div id="separador" class="separador'+(cantidad_actividad+1)+'"></div>');
$("#content_activities").append('<div class="act_detail"><div class="borrar_act" onClick="javascript:$(this).parent().remove(); $(\'#act_detail'+(cantidad_actividad+1)+"').remove(); $('.separador"+(cantidad_actividad+1)+"').remove(); organizar();\">X</div><table><tr><td><label>Nombre Actividad "+(cantidad_actividad+1)+': </td><td>&nbsp<input type="text" id="actividad_'+cantidad_actividad+'" /></td></tr><tr><td><label>Tiempo actividad '+(cantidad_actividad+1)+': </td><td>&nbsp<input type="number" id="tiempo_'+cantidad_actividad+'" min="0" max="1000" onkeyUp="return ValNumero(this, 3);"/>&nbsp;'+b+"</label></td></tr><tr><td><label>Precede "+(cantidad_actividad+1)+': </td><td>&nbsp<input type="text" placeholder="Ejemplo 1,2,..,n" name="antec" id="antec_'+cantidad_actividad+'" onkeyUp="return ValNumero(this, 100);" /></label></td></tr></table></div>');
$("#content_activities").append('<input type="button" class="boton_agrega" id="act_detail'+(cantidad_actividad+1)+'" value="+" onClick="agregar_actividades(this,\''+b+"');\">");
$("#content_activities").append('<div class="contact-but"><input type="button" id="cargart" value="Cargar Tiempo" onClick="javascript:carga_info();" /></div> <div class="contact-but"><input type="button" id="volvert" onClick="javascript:$(\'#info_proyecto\').show(); $(\'#content_activities\').hide(); $(\'#actividades\').hide();" value="Regresar" /></div>');
cantidad_actividad++;}function agregar_actividades_avanzado(a,b){$("#content_activities .contact-but > input").remove();$("#content_activities").append('<div id="separador" class="separador'+(cantidad_actividad+1)+'"></div>');
$("#content_activities").append('<div class="act_detail"><div class="borrar_act" onClick="javascript:$(this).parent().remove(); $(\'#act_detail'+(cantidad_actividad+1)+"').remove(); $('.separador"+(cantidad_actividad+1)+"').remove(); organizar();\">X</div><span>Actividad "+(cantidad_actividad+1)+"</span><table><tr><td><label>Nombre Actividad "+(cantidad_actividad+1)+': </td><td>&nbsp;<input type="text" id="actividad_'+cantidad_actividad+'" /></td></tr><tr><td><label>T. Optimista '+(cantidad_actividad+1)+': </td><td>&nbsp;<input type="number" id="tiempo_o_'+cantidad_actividad+'" min="0" max="1000" onkeyUp="return ValNumero(this, 3);"/>&nbsp;'+b+"</label></td></tr><tr><td><label>T. Pesimista "+(cantidad_actividad+1)+': </td><td>&nbsp<input type="number" id="tiempo_e_'+cantidad_actividad+'" min="0" max="1000" onkeyUp="return ValNumero(this, 3);"/>&nbsp;'+b+"</label></td></tr><tr><td><label>T. Probable "+(cantidad_actividad+1)+': </td><td>&nbsp<input type="number" id="tiempo_pr_'+cantidad_actividad+'" min="0" max="1000" onkeyUp="return ValNumero(this, 3);"/>&nbsp;'+b+"</label></td></tr><tr><td><label>Costo Act. "+(cantidad_actividad+1)+': </td><td>&nbsp<input type="number" id="costo_'+cantidad_actividad+'" min="0" max="1000"/></label></td></tr><tr><td><label>Precede '+(cantidad_actividad+1)+': </td><td>&nbsp<input type="text" placeholder="Ejemplo 1,2,..,n" name="antec" id="antec_'+cantidad_actividad+'" onkeyUp="return ValNumero(this, 100);" /></label></td></tr></table></div>');
$("#content_activities").append('<input type="button" class="boton_agrega" id="act_detail'+(cantidad_actividad+1)+'" value="+" onClick="agregar_actividades_avanzado(this,\''+b+"');\">");
$("#content_activities").append('<div class="contact-but"><input type="button" id="cargart" value="Cargar Tiempo" onClick="javascript:carga_info_avanzado();" /></div> <div class="contact-but"><input type="button" id="volvert" onClick="javascript:$(\'#info_proyecto\').show(); $(\'#content_activities\').hide();$(\'#actividades\').hide()" value="Regresar" /></div>');
cantidad_actividad++;}function alista_info(){var g=document.getElementsByName("antec");var e=document.getElementsByName("f_inicio");var h=$("[id^='tiempo']");
var l=$("[id^='actividad_']");var b=false;var d=[];var j=[];var f=[];var m=Array(5);for(var c=0;c<l.length;c++){if(l[c].value==null||l[c].value==""){b=false;
$("#dialog-message").html("<br><p>Debe ingresar el nombre de cada actividad</p>");$("#dialog-message").dialog("open");break;}f[c]={nombre:l[c].value};}for(var c=0;
c<g.length;c++){if(g[c].value!=null&&g[c].value!=""){b=true;valida_antec=g[c].value.split(",");for(var a=0;a<valida_antec.length;a++){if(parseInt(valida_antec[a])>g.length||(c+1)==parseInt(valida_antec[a])){b=false;
}}}d[c]={antec:g[c].value};}if(!b){$("#dialog-message").html("<br><p>Algunas actividades dependen de la ejecuci&oacute;n de otras, hay que evaluar cuales son las actividades predecesoras de cada una de ella</p>");
$("#dialog-message").dialog("open");return false;}for(var c=0;c<h.length;c++){if(h[c].value==null||h[c].value<=0){b=false;$("#dialog-message").html("<br><p>Debe ingresar el tiempo para cada actividad</p>");
$("#dialog-message").dialog("open");break;}j[c]={tiempo:h[c].value};}m[0]=d;m[1]=j;m[2]=b;m[3]=h;m[4]=g;m[5]=f;m[6]=e[0].value;console.log(m);return m;
}function alista_info_avanzado(){var l=document.getElementsByName("antec");var o=document.getElementsByName("f_inicio");var q=document.getElementsByName("presupuesto");
var f=$("[id^='tiempo_o']");var e=$("[id^='tiempo_e']");var v=$("[id^='tiempo_pr']");var t=$("[id^='actividad_']");var g=$("[id^='costo']");var j=false;
var c=[];var w=[];var a=[];var u=[];var s=[];var r=[];var b=[];var m=[];var d=[];var h=Array(10);console.log(f);console.log(e);console.log(v);for(var p=0;
p<l.length;p++){if(l[p].value!=null&&l[p].value!=""){j=true;}c[p]={antec:l[p].value};}for(var p=0;p<t.length;p++){if(t[p].value!=null&&t[p].value!=""){j=true;
valida_actividad=t[p].value.split(",");for(var n=0;n<valida_actividad.length;n++){if(parseInt(valida_actividad[n])>t.length||(p+1)==parseInt(valida_actividad[n])){j=false;
}}}m[p]={nombre:t[p].value};}w[0]={};a[0]={};u[0]={};s[0]={};r[0]={};b[0]={};d[0]={};for(var p=0;p<f.length;p++){if(f[p].value==null||f[p].value<=0||e[p].value==null||e[p].value<=0||v[p].value==null||v[p].value<=0){j=false;
$("#dialog-message").html("<br><p>Debe ingresar todos los tiempos para cada actividad</p>");$("#dialog-message").dialog("open");break;}w[p]={tiempo:f[p].value};
a[p]={tiempo:e[p].value};u[p]={tiempo:v[p].value};s[p]={tiempo:tiempo_esperado(f[p].value,e[p].value,v[p].value)};b[p]={tiempo:varianza(f[p].value,e[p].value)};
r[p]={tiempo:Math.sqrt(parseFloat(b[p]["tiempo"]))};r[p]={tiempo:Math.sqrt(parseFloat(b[p]["tiempo"]))};d[p]={valor:g[p].value};}if(!j){$("#dialog-message").html("<br><p>Algunas actividades dependen de la ejecuci&oacute;n de otras, hay que evaluar cuales son las actividades predecesoras de cada una de ellas</p>");
$("#dialog-message").dialog("open");}h[0]=c;h[1]=j;h[2]=l;h[3]=w;h[4]=a;h[5]=u;h[6]=u;h[7]=s;h[8]=r;h[9]=b;h[10]=m;h[11]=o[0].value;h[12]=q[0].value;h[13]=d;
console.log(h);return h;}function carga_info(){result=alista_info();valida=result[2];array_act=result[0];array_tiempo=result[1];tiempos=result[3];array_tiempo=result[1];
array_nombres=result[5];if(valida){$("#error").html(null);$("#step_one").hide();info_to_load='<table class="table"><thead><tr>';info_to_load+='<th>Actividad</th><th style="text-align:center;">Predecesor</th><th style="text-align:center;">Tiempo</th></tr></thead>';
info_to_load+="<tbody>";for(var a=0;a<tiempos.length;a++){var b="-";if(typeof array_act[a]!="undefined"){b=array_act[a].antec;}info_to_load+="<tr><td>"+array_nombres[a].nombre+'</td><td style="text-align:center;">'+b+'</td><td style="text-align:center;">'+array_tiempo[a].tiempo+"</td></tr>";
}info_to_load+="</tbody></table>";info_to_load+='<div class="contact-but" style="float: right; width: 120px; right: 20px; " ><input type="submit" id="volver" value="Volver" style="width: 100%;background: #FF6161;" onClick="javascript:volver_actividades();"/></div>';
info_to_load+='<div class="contact-but" style="float:left; margin: 0 0 0 5px;width: 120px;" ><input type="submit" id="graficar" value="Graficar" style="width: 100%;background: #1793d1;" onClick="javascript:graficar();" /></div>';
$("#step_two").html(info_to_load);$("#step_two").show();}else{$("#dialog-message").dialog("open");$("#step_one").show();$("#step_two").hide();}$("#header").scrollTo("fast");
}function carga_info_avanzado(){result=alista_info_avanzado();valida=result[1];array_act=result[0];array_tiempo=result[7];tiempos=result[4];array_t_op=result[3];
array_t_pr=result[5];array_t_pe=result[4];array_d_estandar=result[8];array_varianza=result[9];array_nombres=result[10];if(valida){$("#error").html(null);
$("#step_one").hide();info_to_load='<style>div#step_two{margin-bottom: 120px;}</style><div style="overflow-x: auto;"><table class="table table-bordered"><thead><tr>';
info_to_load+='<th>Actividad</th><th style="text-align:center;">Predecesor</th><th style="text-align:center;">a</th><th style="text-align:center;">m</th><th style="text-align:center;">b</th><th style="text-align:center;">te</th><th style="text-align:center;">Desv. Est</th><th style="text-align:center;">Varianza</th></tr></thead>';
info_to_load+="<tbody>";for(var a=0;a<tiempos.length;a++){var b="-";if(typeof array_act[a]!="undefined"){b=array_act[a].antec;}info_to_load+="<tr><td>"+array_nombres[a].nombre+'</td><td style="text-align:center;">'+b+'</td><td style="text-align:center;">'+array_t_op[a]["tiempo"]+'</td><td style="text-align:center;">'+array_t_pr[a]["tiempo"]+'</td><td style="text-align:center;">'+array_t_pe[a]["tiempo"]+'</td><td style="text-align:center;">'+array_tiempo[a]["tiempo"].toFixed(0)+'</td><td style="text-align:center;">'+array_d_estandar[a]["tiempo"].toFixed(2)+'</td><td style="text-align:center;">'+array_varianza[a]["tiempo"].toFixed(2)+"</td></tr>";
}info_to_load+="</tbody></table></div><br>";info_to_load+='<table class="table"><thead><tr><th>a = Tiempo optimista</th></tr><tr><th>m = Tiempo promedio</th></tr><tr><th>b = Tiempo pesimista</th></tr><tr><th>te = Tiempo esperado <img src="images/tiempo_esperado_final.jpg" style="float: right; margin-right: 40px;"/></th></tr><tr><th>Desv. Est = Desviaci&oacute;n est&aacute;ndar<img src="images/desv_est_final.jpg" style="float: right; margin-right: 40px;"/></th></tr><tr><th>Varianza = <img src="images/varianza_final.jpg" style="float: right; margin-right: 40px;"/></th></tr>';
info_to_load+="</thead></table>";info_to_load+='<div class="contact-but" style="float: right; width: 120px;" ><input type="submit" id="volver" value="Volver" style="width: 100%;background: #FF6161;" onClick="javascript:volver_actividades();"/></div>';
info_to_load+='<div class="contact-but" style="float:left; margin: 0 0 0 5px;width: 120px;" ><input type="submit" id="graficar" value="Graficar" style="width: 100%;background: #1793d1;" onClick="javascript:graficar_avanzado();" /></div>';
$("#step_two").html(info_to_load);$("#step_two").show();}else{$("#dialog-message").dialog("open");$("#step_one").show();$("#step_two").hide();}$("#header").scrollTo("fast");
}function volver_actividades(){$("#step_one").show();$("#step_two").hide();$("#step_two").html(null);$("#grafica").html(null);}function dibujarCanvas(d){var b=document.getElementById("linea"+d);
var a=b.getContext("2d");a.moveTo(20,10);a.lineTo(130,100);a.lineWidth=7;a.strokeStyle="blue";a.stroke();}function habilitar_div(e){console.log(e);var d=0;
for(i=0;i<e.length;i++){if(e[i]["antecesor"].length==1){if(e[i]["antecesor"][0]==""){$("#actividad_"+d+"_0").css("display","block");$("#actividad_"+d+"_0").text(e[i]["actividad"]);
console.log($("#actividad_"+d+"_0"));d++;}}}var b=Array();for(i=0;i<e.length;i++){if(e[i]["antecesor"].length>=1){if(e[i]["antecesor"][0]!=""){var c=0;
for(var a=0;a<e[i]["antecesor"].length;a++){if(c==((e[i]["antecesor"].length)-1)){$("#actividad_"+e[i]["antecesor"][a]+"_"+i).css("display","block");$("#actividad_"+e[i]["antecesor"][a]+"_"+i).text(e[i]["actividad"]);
dibujarCanvas(i);b.push(e[i]["actividad"]);}c++;}d++;}}}console.log(b);}function graficar(){result=alista_info();valida=result[2];tiempos=result[3];array_tiempo=result[1];
array_nombre=result[5];array_act=Array(tiempos.length);array_tiempo=Array(tiempos.length);array_nombre=Array(tiempos.length);for(var a=0;a<tiempos.length;
a++){array_act[a]=result[0][a];array_tiempo[a]=result[1][a];array_nombre[a]=result[5][a];}localStorage.actividad=JSON.stringify(array_act);localStorage.tiempo=JSON.stringify(array_tiempo);
localStorage.validacion=JSON.stringify(valida);localStorage.nombre=JSON.stringify(array_nombre);localStorage.fecha=JSON.stringify(result[6]);localStorage.cantidad=a;
localStorage.varianza=null;window.location.href="grafica.html";return false;$.ajax({url:"grafica.html",type:"POST",dataType:"html",data:{param1:"value1"},}).done(function(b){$("#grafica").html(b);
console.log("success");}).fail(function(){console.log("error");}).always(function(){console.log("complete");});}function graficar_avanzado(){result=alista_info_avanzado();
valida=result[2];presupuesto=result[12];tiempos=result[7];array_tiempo=result[7];array_act=Array(tiempos.length);array_tiempo=Array(tiempos.length);array_nombre=Array(tiempos.length);
array_varianza=Array(tiempos.length);array_desviacion=Array(tiempos.length);array_t_prob=Array(tiempos.length);array_t_pes=Array(tiempos.length);array_t_opt=Array(tiempos.length);
array_t_opt=Array(tiempos.length);array_costo=Array(tiempos.length);for(var a=0;a<tiempos.length;a++){array_act[a]=result[0][a];array_tiempo[a]=result[7][a];
array_nombre[a]=result[10][a];array_t_opt[a]=result[3][a];array_t_prob[a]=result[5][a];array_t_pes[a]=result[4][a];array_desviacion[a]=result[8][a];array_varianza[a]=result[9][a];
array_costo[a]=result[13][a];}console.log(tiempos);console.log(array_tiempo);localStorage.actividad=JSON.stringify(array_act);localStorage.tiempo=JSON.stringify(array_tiempo);
localStorage.validacion=JSON.stringify(valida);localStorage.nombre=JSON.stringify(array_nombre);localStorage.fecha=JSON.stringify(result[11]);localStorage.cantidad=a;
localStorage.optimista=JSON.stringify(array_t_opt);localStorage.pesimista=JSON.stringify(array_t_pes);localStorage.probable=JSON.stringify(array_t_prob);
localStorage.varianza=JSON.stringify(array_varianza);localStorage.desviacion=JSON.stringify(array_desviacion);localStorage.costo=JSON.stringify(array_costo);
localStorage.presupuesto=JSON.stringify(presupuesto);window.location.href="grafica.html";return false;$.ajax({url:"grafica.html",type:"POST",dataType:"html",data:{param1:"value1"},}).done(function(b){$("#grafica").html(b);
console.log("success");}).fail(function(){console.log("error");}).always(function(){console.log("complete");});}jQuery.fn.scrollTo=function(b){var a=$(this).offset().top;
if(a>10){a=a-10;}if(b=="fast"){b=400;}if(b=="medium"){b=800;}if(b=="slow"){b=1200;}if(b==null){b=1000;}$("html,body").animate({scrollTop:a},b);};function cargar_concepto(a){var b;
switch(a){case"edt":b='<div id="content_dialog"><h2>&nbsp;&nbsp;EDT</h2><div><div class="col-md-4 about-text-left"><p align="justify">Llamada tambi&eacute;n estructura desglosada de trabajo, es la estructura jer&aacute;rquica y descendente de las partidas o paquetes de trabajo que se deber&aacute;n realizar durante la implementaci&oacute;n de un proyecto para lograr sus objetivos.</p><div><img alt="" src="images/EDT.jpg" style="height:100%; position:relative;width:100%" /></div><p align="justify"><b>Pasos para su construcci&oacute;n:</b><br /><br />- Primero defina el producto Final (Objetivo espec&iacute;fico).<br />- Defina etapas o divisiones funcionales.<br />- Identificar los entregables espec&iacute;ficos del producto.<br />- Identificar actividades claves y de apoyo.</p></div></div></div>';
break;case"actividad":b='<div id="content_dialog"><h2>&nbsp;&nbsp;Actividades</h2><div class="inner" id="step_one"><div class="col-md-4 about-text-left"><p align="justify">La definici&oacute;n de actividades consiste en identificar cu&aacute;les son las acciones que se deben llevar a cabo para conseguir los entregables de un proyecto.<br /><br />Una vez creada la EDT, se obtiene el nivel m&aacute;s bajo de esta descomposici&oacute;n, denominado PAQUETES DE TRABAJO. La descomposici&oacute;n de &eacute;stos en componentes m&aacute;s peque&ntilde;os nos proporciona las ACTIVIDADES necesarias para ejecutar los paquetes de trabajo.</p><p align="left"><b>Entradas:</b>- Plan de gesti&oacute;n del cronograma.<br />- L&iacute;nea base del Alcance.<br />- Activos de los procesos de la Organizaci&oacute;n.<br />- Factores Ambientales.</p><p align="Right"><b>Herramientas y T&eacute;cnicas:</b><br />- Descomposici&oacute;n EDT.<br />- Planificaci&oacute;n gradual.<br />- Juicio de expertos.</p><p align="Left"><b>Salidas:</b>- Lista de Actividades.<br />- Atributos de la Actividad.<br />- Listado de hitos.</p></div></div></div>';
break;case"cronograma":b='<div id="content_dialog"><h2>&nbsp;&nbsp;Cronograma</h2><div class="inner" id="step_one"><div class="col-md-4 about-text-left"><p align="justify">Es la descripci&oacute;n espec&iacute;fica de las actividades y del tiempo que se va a emplear para la ejecuci&oacute;n del proyecto. Se debe organizar el trabajo en fechas probables, para saber cu&aacute;nto tiempo requerir&aacute; elaborar el trabajo definitivo.</p><div><img alt="" src="img/cronograma.png" style="height:100%; position:relative;width:100%" /></div><p align="justify">Actividad Predecesora:<br />- Es una actividad que se debe comenzar o terminar antes de que otra pueda comenzar.<br /><br />Actividad Sucesora:<br />- Es una actividad que depende del comienzo o del fin de una tarea precedente.<br /><br />Actividad de resumen:<br />- Son aquellas que se componen de subtareas y resume esas subtareas.</p><p align="justify"><b>Paso para elaborar la planeaci&oacute;n de actividades:</b><br /><br />- Listar las actividades en columna.<br />- Identificar el tiempo disponible para el proyecto indicado.<br />- Calcular el tiempo para cada actividad.<br />- Reordenar cronol&oacute;gicamente.<br />- Ajustar tiempo o secuencia de actividades.</p></div></div></div>';
break;case"pert":b='<div id="content_dialog"><h2>&nbsp;&nbsp;PERT</h2><div class="inner" id="step_one"><div class="col-md-4 about-text-left"><p align="justify">T&eacute;cnica que permite dirigir la programaci&oacute;n del proyecto. El m&eacute;todo PERT consiste en la representaci&oacute;n gr&aacute;fica de una red de tareas, que, cuando se colocan en cadena, permiten alcanzar los objetivos de un proyecto.</p><p align="justify"><b>El m&eacute;todo PERT debe incluir:</b><br /><br />- Desglose preciso del proyecto en tareas.<br />- C&aacute;lculo de la duraci&oacute;n de cada tarea.<br />- La designaci&oacute;n de un director del proyecto que se haga cargo de asegurar la supervisi&oacute;n de dicho proyecto, de informar, en caso de ser necesario, y de tomar decisiones en caso de que existan variaciones de las proyecciones.<br /><br /><b>Red PERT</b></p><div><img alt="" src="img/redpert.png" style="height:100%; position:relative;width:100%" /></div><p align="justify">Tareas: Representadas por una flecha. Se le asigna a cada una de las tareas un c&oacute;digo y una duraci&oacute;n. Sin embargo, la longitud de la flecha es independiente de la duraci&oacute;n de la tarea.<br /><br />Etapas: es decir, el inicio y el final de la tarea. Cada tarea tiene una etapa de inicio y una de finalizaci&oacute;n. Con excepci&oacute;n de las etapas iniciales y finales, cada etapa final es una etapa de inicio de la siguiente tarea. Las etapas generalmente est&aacute;n numeradas y representadas por un c&iacute;rculo, pero en algunos otros casos pueden estar representadas por otras formas (cuadrados, rect&aacute;ngulos, &oacute;valos, etc.).<br /><br />Tareas ficticias: representadas por una flecha punteada que indica las limitaciones de las cadenas de tareas entre ciertas etapas.</p></div></div></div>';
break;case"holgura":b='<div id="content_dialog"><h2>&nbsp;&nbsp;Holgura</h2><div class="inner" id="step_one"><div class="col-md-4 about-text-left"><p align="justify">Las cadenas no cr&iacute;ticas disponen de un sobrante de tiempo para su ejecuci&oacute;n, dando lugar al estudio de las HOLGURAS. La holgura de un suceso es el margen de tiempo que se tiene para alcanzar dicho suceso. Cuando este margen es nulo, se dice que el suceso es cr&iacute;tico</p><div><img alt="" src="img/holgura.png" style="height:100%; position:relative;width:100%" /></div></div></div></div>';
break;case"r_critica":b='<div id="content_dialog"><h2>&nbsp;&nbsp;Ruta Critica</h2><div class="inner" id="step_one"><div class="col-md-4 about-text-left"><p align="justify">En administraci&oacute;n y gesti&oacute;n de proyectos, una ruta cr&iacute;tica es la secuencia de los elementos terminales de la red de proyectos con la mayor duraci&oacute;n entre ellos, determinando el tiempo m&aacute;s corto en el que es posible completar el proyecto. La duraci&oacute;n de la ruta cr&iacute;tica determina la duraci&oacute;n del proyecto entero. Cualquier retraso en un elemento de la ruta cr&iacute;tica afecta a la fecha de t&eacute;rmino planeada del proyecto, y se dice que no hay holgura en la ruta cr&iacute;tica.</p><div><img align="right" alt="" src="img/logocpm.png" style="height:25; position:relative;width:27" /></div>&nbsp;<div><img alt="" src="img/rutacpm.png" style="height:100%; position:relative;width:100%" /></div></div></div></div>';
break;}$("#dialog_message_concept").html(null);$("#dialog_message_concept").html(b);$("#dialog_message_concept").dialog("open");$("#header").scrollTo("fast");
}function validaremail(a){if(a.indexOf("@")==-1){$("#dialog-message").html('La "Direcci&oacute;n de Email" no es correcta.');$("#dialog-message").dialog("open");
return 0;}return 1;}function enviar_contacto(){console.log($("#n_proyecto").val());if($("#n_proyecto").val()==""||$("#n_gerente").val()==""||$("#presupuesto").val()==""||$("#obj").val()==""){$("#dialog-message").attr("title","Upss... algo no está bien");
$("#dialog-message").html("Debe diligenciar toda la informaci&oacute;n del formulario de contacto.");$("#dialog-message").dialog("open");}else{if(validaremail($("#presupuesto").val())!=0){$("#dialog-message").attr("title","Mensaje Enviado");
$("#dialog-message").html("Su mensaje ha sido recibido, en breve estaremos dando respuesta a su solicitud.");$("#dialog-message").dialog("open");$("#n_proyecto").val(null);
$("#n_gerente").val(null);$("#presupuesto").val(null);$("#obj").val(null);}}}function abrir_proyectos(){$.ajax({async:true,url:"http://www.sialen.com/webservice/servicio.php",type:"POST",dataType:"json",data:{ac:"abrir",id:id_device},}).done(function(a){console.log(a);
$(".view-port").html(a.data);}).fail(function(b,a,c){$(".view-port").html(b.data);console.log(b);console.log(a);console.log(c);});}function cargar_proyectos(b,a){localStorage.id_proyecto=a;
if(b==1){window.location="pert.html";}else{window.location="pert_avanzado.html";}}function cargar_detalle_proyecto(b,a){$.ajax({url:"http://www.sialen.com/webservice/servicio.php",type:"POST",dataType:"json",data:{ac:"detalle1",id:a},}).done(function(c){console.log(c);
resultado=c;console.log(resultado.data[0]);if(resultado.data[0]["Nombre_Medida"]=="Hora"){medida="h";}else{medida="d";}$("#n_proyecto").val(resultado.data[0]["Nombre_Proyecto"]);
$("#n_gerente").val(resultado.data[0]["Nombre_Gerente"]);$("#f_inicio").val(resultado.data[0]["Fecha_Inicio"]);$("#m_tiempo").val(medida);$("#obj").val(resultado.data[0]["Descripcion_Proyecto"]);
$("#cargar").text("Siguiente");$("#cargar_a").text("Siguiente");$("#n_proyecto").attr("readonly",true);$("#n_gerente").attr("readonly",true);$("#f_inicio").attr("readonly",true);
$("#m_tiempo").attr("readonly",true);$("#obj").attr("readonly",true);if(b==2){$("#presupuesto").val(resultado.data[0]["Presupuesto_Proyecto"]);$("#presupuesto").attr("readonly",true);
}}).fail(function(c){console.log(c);resultado=JSON.parse(c.responseText);console.log(resultado.data[0]);if(resultado.data[0]["Nombre_Medida"]=="Hora"){medida="h";
}else{medida="d";}$("#n_proyecto").val(resultado.data[0]["Nombre_Proyecto"]);$("#n_gerente").val(resultado.data[0]["Nombre_Gerente"]);$("#f_inicio").val(resultado.data[0]["Fecha_Inicio"]);
$("#m_tiempo").val(medida);$("#obj").val(resultado.data[0]["Descripcion_Proyecto"]);$("#cargar").text("Siguiente");$("#cargar_a").text("Siguiente");$("#n_proyecto").attr("readonly",true);
$("#n_gerente").attr("readonly",true);$("#f_inicio").attr("readonly",true);$("#m_tiempo").attr("readonly",true);$("#obj").attr("readonly",true);if(b==2){$("#presupuesto").val(resultado.data[0]["Presupuesto_Proyecto"]);
$("#presupuesto").attr("readonly",true);}});}function cargar_detalle_actividades(b,a){var c;$.ajax({async:false,url:"http://www.sialen.com/webservice/servicio.php",type:"POST",dataType:"json",data:{ac:"detalle2",id:a},}).done(function(d){console.log("aca1");
localStorage.abrir=JSON.stringify(d);console.log(localStorage.abrir);}).fail(function(d){localStorage.abrir=JSON.stringify(d);});return c;}$(document).ready(function(){var a=0;
id_device=localStorage.id_device;localStorage.abrir=null;$("#cargar").click(function(){todoCorrecto=true;console.log($("#n_proyecto").val()+" - "+$("#n_gerente").val().length+" - "+/^\s*$/.test($("#nombre_p").val())+" - "+$("#m_tiempo").val()+" - "+$("#f_inicio").val());
if($("#n_proyecto").val()==null||$("#n_gerente").val().length==0||/^\s*$/.test($("#nombre_p").val())||$("#m_tiempo").val()==""||$("#f_inicio").val()==null||$("#f_inicio").val()==""){todoCorrecto=false;
}a=2;if(a>0&&todoCorrecto){localStorage.n_proyecto=$("#n_proyecto").val();localStorage.n_gerente=$("#n_gerente").val();localStorage.m_tiempo=$("#m_tiempo").val();
localStorage.objetivo=$("#obj").val();$("#error").html(null);$("#actividades").html(null);$("#actividades").show();$("#actividades").append('<div id="blanco"></div><h4>Tiempos Actividades</h4><div class="contact-text" id="content_activities" ></div>');
if($("#m_tiempo").val()=="d"){medida_tiempo="D&iacute;as";}else{medida_tiempo="Horas";}cargar_actividades(a,medida_tiempo);$("#info_proyecto").hide();}else{$("#dialog-message").html("Debe completar la informaci&oacute;n del formulario");
$("#dialog-message").dialog("open");}});$("#cargar_a").click(function(){todoCorrecto=true;if($("#n_proyecto").val()==null||$("#n_gerente").val().length==0||/^\s*$/.test($("#nombre_p").val())||$("#m_tiempo").val()==""||$("#f_inicio").val()==null||$("#f_inicio").val()==""||$("#presupuesto").val()==""||$("#presupuesto").val()==null){todoCorrecto=false;
}a=2;if(a>0&&todoCorrecto){localStorage.n_proyecto=$("#n_proyecto").val();localStorage.n_gerente=$("#n_gerente").val();localStorage.m_tiempo=$("#m_tiempo").val();
localStorage.objetivo=$("#obj").val();$("#error").html(null);$("#actividades").html(null);$("#actividades").show();$("#actividades").append('<div id="blanco"></div><h4>Tiempos Actividades</h4><div class="contact-text" id="content_activities" ></div>');
if($("#m_tiempo").val()=="d"){medida_tiempo="D&iacute;as";}else{medida_tiempo="Horas";}cargar_actividades_avanzado(a,medida_tiempo);$("#info_proyecto").hide();
}else{$("#dialog-message").html("Debe completar la informaci&oacute;n del formulario");$("#dialog-message").dialog("open");}});function b(){window.location.replace("menu.html");
}$("#menu_pert").click(function(){localStorage.id_proyecto=null;window.location="menu_pert.html";});$("#menu_concepto").click(function(){localStorage.id_proyecto=null;
window.location="menu_pert.html";});$("#menu_contacto").click(function(){window.location="contactenos.html";});$("#menu_pert_int").click(function(){window.location="pert_avanzado.html";
});$("#menu_basico_int").click(function(){window.location="pert.html";});$("#menu_abrir_int").click(function(){window.location="abrir_pert.html";});$("#menu_concepto").click(function(){window.location="conceptos.html";
});});